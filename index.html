<!DOCTYPE html>
<html lang="en">
<head>
<title>Team Road Rage - A Dynamic Collision Avoidance System</title>

<meta charset="utf-8" />
<meta name="author"   content="Graham Fletcher" />
<meta name="reply-to" content="grahamfletchergt@gmail.com" />
<meta http-equiv="cache-control" content="no-cache" />

<meta name="google-site-verification" content="I7T-beZWpY-gNHezMeUvzdHHUzcDssVqakaBqyTMrY0" />
<meta name="google-site-verification" content="8kr8K7iLGmTwoRBs9ZdWrpnz1L-pZEvzmakENyc0E1k" />

<link rel="shortcut icon" href="favicon.ico" />
<link rel="apple-touch-icon-precomposed" href="images/touch-icon.ico" />

<link rel="stylesheet" type="text/css" href="css/reset.css" />
<link rel="stylesheet" type="text/css" href="css/jquery.lightbox-0.5.css" media="screen" />
<link rel="stylesheet" type="text/css" href="css/coda-slider-2.0.css" />
<link rel="stylesheet" type="text/css" href="css/main.css" />

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.lightbox-0.5.min.js"></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/jquery.coda-slider-2.0.js"></script>
<script type="text/javascript">
    $().ready(function() {
        $('#coda-slider-1').codaSlider({
            dynamicArrows:false,
            dynamicTabs:false
        });
        $('a[@rel*=lightbox],ul.gallery>li>').lightBox();
    });
</script>
</head>

<body>

<header>
<div><h1>team road rage</h1></div>
</header>

<p>a dynamic collision avoidance system</p>

<noscript>Uh, oh. Is Javascript disabled?</noscript>


<nav id="coda-nav">
    <ul>
        <li><a class="xtrig" rel="coda-slider-1" href="#1">overview</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#2">system</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#3">challenges</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#4">media</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#5">documents</a></li>
    </ul>
</nav>

<div class="coda-slider preload" id="coda-slider-1">
    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Project</h3>
        <a href="images/photos/IMG_5309.png" rel="lightbox" title="Vehicle used for the project, with laser rangefinder mounted on the front"><img class="right" src="images/photos/IMG_5309_thumb.png" width="300" height="200" alt="Vehicle used for the project, with laser rangefinder mounted on the front" /></a>
        <p>In the Fall of 2011, Team Road Rage, a group of Georgia Tech seniors, initiated a project to design and develop a vehicle collision avoidance system that fulfilled the course requirements for Georgia Tech’s <a href="http://www.ece.gatech.edu/academic/courses/ece4007/">ECE 4007: Senior Design</a>. The team ultimately built an innovative system that successfully warned drivers when their <a href="http://en.wikipedia.org/wiki/Headway">time headway</a>, relative to a lead vehicle, fell below a predetermined safety threshold. The benchmark safety threshold was dynamically determined based on environmental conditions and calculated reaction time of the driver.</p>
    
        <h3>Motivation</h3>
        <p>According to the National Safety Council, 26.5 percent of all vehicular accidents are rear-end collisions. Although these rear-end collisions are responsible for only 4.3 percent of traffic-related fatalities, they are responsible for one-third of all collision-caused traffic delays, resulting in 157 million vehicle-hours of traffic delay annually. According to police reports, 64 percent of these rear-end collisions are the result of driver inattention; 14 percent are a result of following too closely; 3 percent are due to poor visibility; and 2 percent are caused by the driver’s poor judgment.</p>
        <a href="images/photos/IMG_3926.png" rel="lightbox" title="USB camera, mounted behind the rear-view mirror, used for detecting and tracking lead vehicles"><img class="left" src="images/photos/IMG_3926_thumb.png" width="300" height="200" alt="USB camera, mounted behind the rear-view mirror, used for detecting and tracking lead vehicles" /></a>
        <p>At the inception of Team Road Rage’s project, commercially-available collision avoidance systems offered some limited features, such as lane departure and driver inattention warnings. However, they were incapable of taking into consideration the driver’s unique driving behavior and real-time road surface conditions. The Team Road Rage system integrated the aforementioned real-time data and could easily be incorporated into other driver assistance packages. The Team Road Rage system differentiated itself from other more expensive collision avoidance systems by utilizing a one-dimensional laser rangefinder and a low-resolution camera instead of more costly sensors, such as a long-range radar or stereo camera.</p>
    </section>
	</div></div>

    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Components</h3>
        <p>The Team Road Rage system utilizes five primary data input sources: a laser rangefinder, which measures the distance from the ego vehicle to a lead vehicle; a rain sensor, which detects precipitation on the windshield; an <a href="http://en.wikipedia.org/wiki/On-board_diagnostics">OBD-II</a> scanner, which measures the instantaneous velocity of the vehicle; a temperature sensor, which detects whether icy conditions may exist; and a USB camera, which detects and tracks lead vehicles. The primary driver interface is an Android mobile phone, which displays the instantaneous time headway to the lead vehicle and issues auditory alerts through the vehicle’s speaker system.</p>
        <div class="centered"><img src="images/sensors.png" width="699" height="270" alt="Sensors diagram" /></div>
        <p>The sensors are connected to a central controller (laptop computer), either directly over USB, or indirectly through an <a href="http://arduino.cc/en/Main/ArduinoBoardADK">Arduino ADK</a> microcontroller. The Arduino also serves as a mechanism for forwarding serial communication to the Android mobile phone.</p>
        
        <h3>Software</h3>
        <p>The controlling laptop computer runs a Linux operating system, customized to include only essential features and services.  The function software is written in C++ and utilizes several supporting libraries, including <a href="http://qt-project.org/">Qt</a>, <a href="http://opencv.org/">OpenCV</a>, <a href="http://www.intra2net.com/en/developer/libftdi/">libFTDI</a> and <a href="http://www.nvidia.com/object/cuda_home_new.html">CUDA</a>. The controlling application makes use of multiple threads, allowing each asynchronous component of the system to run independently, passing data to the controlling thread only when necessary. The system architecture has a modular design, employing multiple levels of functional abstraction to support the various software components and device interfaces. The following diagram provides a basic overview of the major software components of the system:</p>
        <div class="centered"><img src="images/software.png" width="717" height="435" alt="Software components diagram" /></div>
        <p>The blue components identify system inputs, while the red components designate system outputs. Objects marked with an asterisk represent those whose instances live in threads of their own. As new information becomes available, data is passed across thread boundaries using Qt’s “signals and slots” mechanism. Several classes were created specifically to safeguard data in the multi-threaded environment. For example, the purpose of the “ArduinoDevice” is to ensure that only a single object communicates with the Arduino at any given instant. Without this safeguard, objects on different threads could try to simultaneously send data to the Arduino, resulting in a communications failure.</p>
    </section>
	</div></div>

    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Asynchronous Sensor Fusion</h3>
        <p>In order for the system to function successfully in real-time, each sensor must continually provide updates with minimal latency. To accommodate continuous sensor updates, the software design allows each sensor to update asynchronously, registering each sensor’s updates as they become available. Asynchronous updates aren't an issue for sensors whose readings are used independent of other sensors’ readings (e.g., temperature sensor and rain sensor).  However, integrating readings from the speed sensor and the distance sensor presents a design challenge, because the two sensors provide updates at different rates.  To further complicate the problem, the laser rangefinder utilized for the prototype system occasionally reports distance values that are invalid. Although a number of factors could contribute to the invalid data, the two most common causes seem to be poor reflectivity of the lead vehicle (common when following black vehicles) and misalignment (typical on curved road segments). Since the system must maintain functionality until the next valid reading can be obtained, a Kalman filter is utilized to predict future system states and compensate for noisy sensor inputs. Unfortunately, a generic Kalman filter requires simultaneous sensor readings in order to interpret data and make system corrections, as shown below.</p>
        <div class="centered"><img src="images/kalman1.png" width="400" height="201" alt="Generic Kalman filter update process" /></div>
        <p>To solve the design challenge, the function was re-engineered to have the internal parameters of the Kalman filter dynamically modified as measurements become available. This process is shown below.</p>
        <div class="centered"><img src="images/kalman2.png" width="730" height="224" alt="Asynchronous fused Kalman filter update process" /></div>
        <p>This improvement enables the <a href="http://dspace.dsto.defence.gov.au/dspace/handle/1947/3698">asynchronous fused Kalman filter</a> to function without placing restrictions on the sensor rates and still provide estimates when readings are noisy or invalid.</p>
        
        <h3>Safe Time Headway Calculation</h3>
        <p>One unique aspect of the Team Road Rage system is that it’s dynamic, incorporating data on real-time environmental conditions (wet or icy roads) and the driver’s reaction time. This feature makes the system extremely versatile and able to accommodate a wide range of road surfaces and driver skill levels.</p>
        <a href="images/photos/IMG_5316.png" rel="lightbox" title="The infrared rain sensor, mounted inside the windshield"><img class="right" src="images/photos/IMG_5316_thumb.png" width="300" height="200" alt="The infrared rain sensor, mounted inside the windshield" /></a>
        <p>A reverse-engineered, <a href="http://www.raintracker.com/index.php">off-the-shelf rain sensor</a> mounts to the inside of the windshield and detects precipitation. The rain sensor uses infrared light to detect changes in the glass windshield’s refractive index, which is caused by the presence of water on the opposite surface. When precipitation is detected multiple times within a given period, the safe time headway is elevated for the next half-hour.  A temperature sensor, mounted behind the front-left wheel well (away from the heat of engine components) perceives potentially icy conditions. If the temperature drops below five degrees Celsius, the function assumes ice may be present on the road surface, and the safe time headway is increased for the remainder of the trip.</p>
        <p>An innovative aspect of the system is a unique method of calculating the driver’s reaction time. This is accomplished by monitoring the calculated speed of the lead vehicle and looking for decelerations greater in magnitude than -6 m/s&sup2;.  Whenever such decelerations are detected, if the time headway is below a pre-specified threshold, a timer is started that runs until a similar response is detected from the driver of the ego vehicle. If the driver of the ego vehicle brakes within three seconds, the reaction time is averaged into the previously recorded reaction time. Over time, reaction times calculated using these “braking events” allow the system to adapt to the individual driver.</p>
        
        <h3>Alerting the Driver</h3>
        <p>After thoroughly reviewing many studies concerning methods for alerting drivers to dangerous conditions, the team settled on a hybrid alert system that utilizes both visual and audible warnings. The visual warning system provides the driver with a real-time graphical representation of the relative “safeness” of the current time headway to the lead vehicle, giveing the driver the opportunity to react accordingly. If the driver permits the time headway to remain below the minimum safe time headway, an abstract tone is sounded through the vehicle’s speaker system.</p>
        <a href="images/photos/VID_20111216_143530.png" rel="lightbox" title="The Android mobile phone, showing a time headway of 1.8 seconds, rainy conditions and a lead vehicle velocity of 38 mph"><img class="left" src="images/photos/VID_20111216_143530_thumb.png" width="300" height="200" alt="The Android mobile phone, showing a time headway of 1.8 seconds, rainy conditions and a lead vehicle velocity of 38 mph" /></a>
        <p>In a production system, these alert mechanisms (pictured above) would ideally be incorporated into the in-dash HMI. In the prototype system, an Android mobile phone was used for the real-time visual display and the mobile phone’s audio output was connected to the auxiliary input of the vehicle’s stereo system. The phone, strategically mounted in the center of the dash, is clearly visible to the driver, but does not occlude the view of the road ahead. The phone’s display includes the instantaneous time headway, the calculated velocity of the lead vehicle and a custom indicator representing the relative “safeness” of the time headway.</p>
    </section>
	</div></div>
	
    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Video</h3>
        <div class="youtube-container"><iframe class="youtube-player" type="text/html" width="704" height="424" src="https://www.youtube.com/embed/m3_5iqJrCgU"></iframe></div>
        
        <h3>Photos</h3>
        <p style="font-style:italic;">Click to view images in more detail.</p>
        <ul class="gallery">
            <li><a href="images/photos/IMG_5194.png" title="Cable running from the interior of the vehicle, through the firewall to the engine compartment"><img src="images/photos/IMG_5194_thumb.png" width="216" height="144" alt="Cable running from the interior of the vehicle, through the firewall to the engine compartment" /></a></li>
            <li><a href="images/photos/IMG_5215.png" title="Dash components removed for wiring and installation of components"><img src="images/photos/IMG_5215_thumb.png" width="216" height="144" alt="Dash components removed for wiring and installation of components" /></a></li>
            <li><a href="images/photos/IMG_5225.png" title="USB hub, stored behind the cigarette lighter"><img src="images/photos/IMG_5225_thumb.png" width="216" height="144" alt="USB hub, stored behind the cigarette lighter" /></a></li>
            <li><a href="images/photos/IMG_5242_2.png" title="Arduino ADK and 12V DC-DC converter, stored beneath the stereo unit"><img src="images/photos/IMG_5242_2_thumb.png" width="216" height="144" alt="Arduino ADK and 12V DC-DC converter, stored beneath the stereo unit" /></a></li>
            <li><a href="images/photos/IMG_5306.png" title="The laser rangefinder, for obtaining the distance to a lead vehicle"><img src="images/photos/IMG_5306_thumb.png" width="216" height="144" alt="The laser rangefinder, for obtaining the distance to a lead vehicle" /></a></li>
            <li><a href="images/photos/IMG_5350.png" title="USB OBD-II scanner, for obtaining the instantaneous velocity of the vehicle"><img src="images/photos/IMG_5350_thumb.png" width="216" height="144" alt="USB OBD-II scanner, for obtaining the instantaneous velocity of the vehicle" /></a></li>
            <li><a href="images/photos/IMG_5356.png" title="The temperature sensor, for detecting potentially icy conditions"><img src="images/photos/IMG_5356_thumb.png" width="216" height="144" alt="The temperature sensor, for detecting potentially icy conditions" /></a></li>
            <li><a href="images/photos/IMG_5375.png" title="The DC-DC converter, used to regulate the vehicle's battery voltage and power the system"><img src="images/photos/IMG_5375_thumb.png" width="216" height="144" alt="The DC-DC converter, used to regulate the vehicle's battery voltage and power the system" /></a></li>
            <li><a href="images/photos/IMG_5376.png" title="The Arduino Mega ADK"><img src="images/photos/IMG_5376_thumb.png" width="216" height="144" alt="The Arduino Mega ADK" /></a></li>
        </ul>
    </section>
	</div></div>
	
    <div class="panel"><div class="panel-wrapper">
    <section>
        <p><a href="documents/proposal/proposal.pdf">Proposal</a></p>
        <p><a href="https://docs.google.com/present/view?id=dfw8hz5h_7f2xtbfgd">Preliminary Design Review Presentation</a></p>
        <p><a href="https://docs.google.com/present/view?id=dc4gvbwk_45q2d45hhr">Final Presentation</a></p>
        <p><a href="documents/final_report/final_report.pdf">Final Report</a></p>
    </section>
	</div></div>
</div>

<footer>
Site designed by <a href="mailto:grahamfletchergt@gmail.com?Subject=teamroadrage.info">Graham Fletcher</a>.
</footer>

</body>
</html>
