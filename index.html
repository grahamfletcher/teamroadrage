<!DOCTYPE html>
<html lang="en">
<head>
<title>Team Road Rage - A Dynamic Collision Avoidance System</title>

<meta charset="utf-8" />
<meta name="author"   content="Graham Fletcher" />
<meta name="reply-to" content="grahamfletchergt@gmail.com" />
<meta http-equiv="Cache-Control" content="no-cache" />

<link rel="shortcut icon" href="favicon.ico" />
<link rel="apple-touch-icon-precomposed" href="images/touch-icon.ico" />

<link rel="stylesheet" type="text/css" href="css/reset.css" />
<link rel="stylesheet" type="text/css" href="css/jquery.lightbox-0.5.css" media="screen" />
<link rel="stylesheet" type="text/css" href="css/coda-slider-2.0.css" />
<link rel="stylesheet" type="text/css" href="css/main.css" />

<!--<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>-->
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.lightbox-0.5.min.js"></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/jquery.coda-slider-2.0.js"></script>
<script type="text/javascript">
    $().ready(function() {
        $('#coda-slider-1').codaSlider({
            dynamicArrows:false,
            dynamicTabs:false
        });
        $('a[@rel*=lightbox],ul.gallery>li>').lightBox();
    });
</script>
</head>

<body>

<header>
<div><h1>team road rage</h1></div>
</header>

<p>a dynamic collision avoidance system</p>

<noscript>Uh, oh. Is Javascript disabled?</noscript>


<nav id="coda-nav">
    <ul>
        <li><a class="xtrig" rel="coda-slider-1" href="#1">overview</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#2">system</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#3">challenges</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#4">media</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#5">documents</a></li>

    <!--
        <li><a class="xtrig" rel="coda-slider-1" href="#1">group photo</a></li>
        <li><a class="xtrig" rel="coda-slider-1" href="#2">deliverables</a></li>
    -->
    </ul>
</nav>

<div class="coda-slider preload" id="coda-slider-1">
    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Project</h3>
        <a href="images/photos/IMG_5309.png" rel="lightbox" title="Vehicle used for the project, with laser rangefinder mounted on the front"><img class="right" src="images/photos/IMG_5309_thumb.png" width="300px" height="200px" /></a>
        <p>In the Fall of 2011, Team Road Rage, a group of Georgia Tech seniors, initiated a project to design and develop a vehicle collision avoidance system that fulfilled the course requirements for Georgia Tech’s <a href="http://www.ece.gatech.edu/academic/courses/ece4007/">ECE 4007: Senior Design</a>. The team ultimately built an innovative system that successfully warned drivers when their <a href="http://en.wikipedia.org/wiki/Headway">time headway</a>, relative to a lead vehicle, fell below a predetermined safety threshold. The benchmark safety threshold was dynamically determined based on environmental conditions and calculated reaction time of the driver.</p>
    
        <h3>Motivation</h3>
        <p>According to the National Safety Council, 26.5 percent of all vehicular accidents are rear-end collisions. Although these rear-end collisions are responsible for only 4.3 percent of traffic-related fatalities, they are responsible for one-third of all collision-caused traffic delays, resulting in 157 million vehicle-hours of traffic delay annually. According to police reports, 64 percent of these rear-end collisions are the result of driver inattention; 14 percent are a result of following too closely; 3 percent are due to poor visibility; and 2 percent are caused by the driver’s poor judgment.</p>
        <a href="images/photos/IMG_3926.png" rel="lightbox" title="USB camera, mounted behind the rear-view mirror, used for detecting and tracking lead vehicles"><img class="left" src="images/photos/IMG_3926_thumb.png" width="300px" height="200px" /></a>
        <p>At the inception of Team Road Rage’s project, commercially-available collision avoidance systems offered limited features, such as lane departure warnings and alerts that the driver may have become distracted; however, they were incapable of taking into consideration the driver’s distinct driving behavior and/or real-time road and weather conditions. The Team Road Rage system integrates the aforementioned real-time data and could easily be incorporated into driver assistance packages currently on the market. The Team Road Rage system differentiates itself from other more expensive collision avoidance systems by utilizing a one-dimensional laser rangefinder and a low-resolution camera instead of more costly scanning laser rangefinders and/or multiple cameras for depth perception.</p>
    </section>
	</div></div>

    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Components</h3>
        <p>The Team Road Rage system utilizes five primary data input sources: a laser rangefinder, measuring the distance between the vehicle and a lead vehicle; a rain sensor, detecting precipitation on the windshield; an <a href="http://en.wikipedia.org/wiki/On-board_diagnostics">OBD-II</a> scanner, measuring the instantaneous velocity of the vehicle; a temperature sensor, detecting whether icy conditions exist; and a USB camera, detecting and tracking lead vehicles. The primary driver interface is an Android mobile phone, displaying the instantaneous time headway (to the lead vehicle) and issuing auditory alerts through the vehicle’s speaker system.</p>
        <div class="centered"><img align="middle" src="images/sensors.png" width="699px" height="270px" /></div>
        <p>The sensors are connected to a controlling computer system (laptop), either directly via USB, or indirectly through an <a href="http://arduino.cc/en/Main/ArduinoBoardADK">Arduino ADK</a> microcontroller. The Arduino also serves as a mechanism for forwarding serial communication to the Android mobile phone.</p>
        
        <h3>Software</h3>
        <p>The controlling laptop computer runs a Linux operating system, customized with essential-only features and services.  The operating system software is written in C++ and utilizes several supporting libraries, including <a href="http://qt.nokia.com/">Qt</a>, <a href="http://opencv.willowgarage.com/wiki/">OpenCV</a>, <a href="http://www.intra2net.com/en/developer/libftdi/">libFTDI</a> and <a href="http://www.nvidia.com/object/cuda_home_new.html">CUDA</a>. The controlling application makes use of numerous threads, allowing each asynchronous component of the system to run independently, passing data to the controlling thread only when necessary. The system architecture is a modular design, employing multiple levels of functional abstraction to support the various software components and device interfaces. The following diagram provides a basic overview of the major software components of the system:</p>
        <div class="centered"><img src="images/software.png" width="717px" height="435px" /></div>
        <p>The blue components identify system inputs, while the red components designate system outputs. Objects marked with an asterisk represent those whose instances live in their own threads. As new information become available, data is passed across thread boundaries using Qt’s “signals and slots” mechanism. Several classes were created specifically to safeguard data in the multi-threaded environment. For example, the purpose of the “ArduinoDevice” is to ensure only one object on one thread communicates with the Arduino at any given instant. Without this safeguard, objects on different threads could try to simultaneously communicate with the Arduino, resulting in a communications failure.</p>
    </section>
	</div></div>

    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Asynchronous Sensor Fusion</h3>
        <p>In order for the system to function successfully in real-time, each sensor must continually provide updates, with minimal latency. To accommodate continuous sensor updates, the software design allows each sensor to update asynchronously, registering each sensor’s updates as it becomes available. Asynchronous updating isn’t an issue for sensors whose readings are independent of other sensors’ readings (e.g., temperature sensor and rain sensor).  However, integrating readings from the speed sensor and the distance sensor presents a significant design challenge, because the two sensors provide updates at different rates.  To further complicate the problem, the laser rangefinder utilized for the prototype system reported distance values the design team recognized to be invalid. Although a number of factors could’ve contributed to the invalid data, the two most common causes, per the current system design, are poor reflectivity on the lead vehicle (common when following black vehicles) and misalignment (typical on curved segments of road); utilizing computer vision, the design team confirmed the two most common determinants of invalid distance values.   Since the system’s reliability is critical until the next valid reading can be obtained, a Kalman filter is utilized to predict future system states, based on historical states, to detect and compensate for noisy sensors. Unfortunately, a generic Kalman filter requires simultaneous sensor readings in order to interpret data and make system corrections, as shown below.</p>
        <div class="centered"><img src="images/kalman1.png" width="400px" height="201px" /></div>
        <p>To solve the design challenge, the system software was re-engineered, devising a method to modify the internal parameters of the Kalman filter, thereby updating system inputs as measurements became available. This process is shown below.</p>
        <div class="centered"><img src="images/kalman2.png" width="730px" height="224px" /></div>
        <p>The software design change enables the <a href="http://dspace.dsto.defence.gov.au/dspace/handle/1947/3698">asynchronous fused Kalman filter</a> to allow the sensors to operate at their maximum rates, providing estimates when valid readings aren’t available and compensating for noisy sensor data.</p>
        
        <h3>Safe Time Headway Calculation</h3>
        <p>One unique aspect of the Team Road Rage system is that it’s dynamic, based on real-time environmental conditions (wet roads, resulting from precipitation and ice) and the driver’s reaction time; this feature makes the system extremely versatile, accommodating a wide range of road conditions and drivers with differing skill levels.</p>
        <a href="images/photos/IMG_5316.png" rel="lightbox" title="The infrared rain sensor, mounted inside the windshield"><img class="right" src="images/photos/IMG_5316_thumb.png" width="300px" height="200px" /></a>
        <p>A reverse-engineered, <a href="http://www.raintracker.com/index.php">off-the-shelf rain sensor</a> mounts to the inside of the windshield and detects precipitation. The rain sensor uses infrared light to detect changes in the glass windshield’s refractive index, caused by the presence of water on the other side. When precipitation is detected multiple times, the safe time headway is increased and remains increased for the next half-hour.  A temperature sensor, located behind one of the wheel wells (remote from the heat of engine components) perceives potentially icy conditions. If the temperature drops below five degrees Celsius, the temperature sensor assumes ice on the road can be a factor to be considered, and the safe time headway is increased for the remainder of the trip.</p>
        <p>An innovative aspect of the system is a unique method of calculating the driver’s reaction time by monitoring the calculated speed of the lead vehicle and looking for decelerations greater in magnitude than -6 m/s&sup2;.  Whenever such decelerations are detected, if the time headway is below a pre-specified threshold, a timer starts and waits for a similar response from the driver of the following vehicle. If the driver of the following vehicle brakes within three seconds, the reaction time is averaged into the previously recorded reaction time. Over time, reaction times calculated using these “braking events” allow the system to adapt to the individual driver.</p>
        
        <h3>Alerting the Driver</h3>
        <p>After thoroughly reviewing many studies focusing on methods to alert drivers of dangerous conditions, the design team settled on a hybrid alert system utilizing visual and audible warnings. The visual warning system provides the driver with a real-time visual representation of the relative “safeness” of the current time headway to the lead vehicle and gives the driver the opportunity to react, accordingly. If the driver permits the time headway to continue falling below the minimum safe time headway, an abstract tone projects through the vehicle’s speaker system.</p>
        <a href="images/photos/VID_20111216_143530.png" rel="lightbox" title="The Android mobile phone, showing a time headway of 1.8 seconds, rainy conditions and a lead vehicle velocity of 38 mph"><img class="left" src="images/photos/VID_20111216_143530_thumb.png" width="300px" height="200px" /></a>
        <p>In an end-system, these mechanisms, pictured above, would ideally be incorporated into the actual dashboard, but for development purposes, an Android mobile phone was used for the real-time visual display.  The mobile phone’s audio output connects to the auxiliary input of the vehicle’s speaker system. The phone, strategically mounted in the center of the dash, is readily visible to the driver, but is not a distraction. The phone’s display includes the instantaneous time headway, the calculated velocity of the lead vehicle and a custom indicator that represented the relative “safeness” of the time headway.</p>
    </section>
	</div></div>
	
    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Video</h3>
        <div class="youtube-container"><iframe class="youtube-player" type="text/html" width="704" height="424" src="http://www.youtube.com/embed/m3_5iqJrCgU" frameborder="0"></iframe></div>
        
        <h3>Photos</h3>
        <ul class="gallery">
            <p style="font-style:italic; margin-bottom:20px;">Click to view images in more detail.</p>
            <li><a href="images/photos/IMG_5194.png" title="Cable running from the interior of the vehicle, through the firewall to the engine compartment"><img src="images/photos/IMG_5194_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5215.png" title="Dash components removed for wiring and installation of components"><img src="images/photos/IMG_5215_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5225.png" title="USB hub, stored behind the cigarette lighter"><img src="images/photos/IMG_5225_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5242_2.png" title="Arduino ADK and 12V DC-DC converter, stored beneath the stereo unit"><img src="images/photos/IMG_5242_2_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5306.png" title="The laser rangefinder, for obtaining the distance to a lead vehicle"><img src="images/photos/IMG_5306_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5350.png" title="USB OBD-II scanner, for obtaining the instantaneous velocity of the vehicle"><img src="images/photos/IMG_5350_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5356.png" title="The temperature sensor, for detecting potentially icy conditions"><img src="images/photos/IMG_5356_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5375.png" title="The DC-DC converter, used to regulate the vehicle's battery voltage and power the system"><img src="images/photos/IMG_5375_thumb.png" width="216px" height="144px" /></a></li>
            <li><a href="images/photos/IMG_5376.png" title="The Arduino Mega ADK"><img src="images/photos/IMG_5376_thumb.png" width="216px" height="144px" /></a></li>
        </ul>
    </section>
	</div></div>
	
    <div class="panel"><div class="panel-wrapper">
    <section>
        <p><a href="documents/proposal/proposal.pdf">Proposal</a></p>
        <p><a href="https://docs.google.com/present/view?id=dfw8hz5h_7f2xtbfgd">Preliminary Design Review Presentation</a></p>
        <p><a href="https://docs.google.com/present/view?id=dc4gvbwk_45q2d45hhr">Final Presentation</a></p>
        <p><a href="documents/final_report/final_report.pdf">Final Report</a></p>
    </section>
	</div></div>

    <!--
    <div class="panel"><div class="panel-wrapper">
    <section>
        <p style="text-align:center;"><img src="images/group_photo.png" width="600" height="400" style="text-align:center;" /></p>
        <p style="text-align:center;">(L-R: George Yuchi, Ryan Baker, Graham Fletcher, Garrett Chinsomboon)</p>
    </section>
	</div></div>

    <div class="panel"><div class="panel-wrapper">
    <section>
        <h3>Technical Review Papers</h3>
            <h4>Graham Fletcher</h4>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/TRP/Graham/Graham_OBD-II.pdf';">PDF</div></li>
                <li><div class="tex" onclick="window.location.href = 'documents/TRP/Graham/Graham_OBD-II.zip';">LaTeX</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/TRP/Graham/Graham_OBD-II.doc';">Word</div></li>
            </ul>
            <h4>Ryan Baker</h4>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/TRP/Ryan/Ryan_Radar.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/TRP/Ryan/Ryan_Radar.doc';">Word</div></li>
            </ul>
            <h4>Garrett Chinsomboon</h4>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/TRP/Garrett/Garrett_Sonar.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/TRP/Garrett/Garrett_Sonar.doc';">Word</div></li>
            </ul>
            <h4>George Yuchi</h4>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/TRP/George/George_ADAS.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/TRP/George/George_ADAS.doc';">Word</div></li>
            </ul>
        <h3>Written Proposal</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/proposal/proposal.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/proposal/proposal.doc';">Word</div></li>
            </ul>
        <h3>Intermediate Project Summary</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/project_summary/project_summary_draft.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/project_summary/project_summary_draft.doc';">Word</div></li>
            </ul>
        <h3>PDR Presentation</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/PDR/PDR.pdf';">PDF</div></li>
                <li><div class="google" onclick="window.location.href = 'https://docs.google.com/present/view?id=dfw8hz5h_7f2xtbfgd';">Google Doc</div></li>
                <li><div class="powerpoint" onclick="window.location.href = 'documents/PDR/PDR.ppt';">PowerPoint</div></li>
            </ul>
        <h3>Final Presentation</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/presentation_final/presentation_final.pdf';">PDF</div></li>
                <li><div class="google" onclick="window.location.href = 'https://docs.google.com/present/view?id=dc4gvbwk_45q2d45hhr';">Google Doc</div></li>
                <li><div class="powerpoint" onclick="window.location.href = 'documents/presentation_final/presentation_final.ppt';">PowerPoint</div></li>
            </ul>
        <h3>Final Project Summary</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/project_summary/project_summary.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/project_summary/project_summary.doc';">Word</div></li>
            </ul>
        <h3>Final Written Report</h3>
            <ul class="document_links">
                <li><div class="pdf" onclick="window.location.href = 'documents/final_report/final_report.pdf';">PDF</div></li>
                <li><div class="word" onclick="window.location.href = 'documents/final_report/final_report.doc';">Word</div></li>
            </ul>
    </section>
	</div></div>-->
	
</div>

<footer>
Site designed and maintained by <a href="mailto:grahamfletchergt@gmail.com?Subject=teamroadrage.info">Graham Fletcher</a>.
</footer>

</body>
</html>
